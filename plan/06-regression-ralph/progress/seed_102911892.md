# Bug Fix: seed 102911892 - Runtime crash (SIGSEGV)

**Status: FIXED ✓**

## Summary
Fixed runtime crash (signal 11) caused by stack slot offset collision with saved frame pointer.

## Root Cause
When function parameters are spilled to the stack during register allocation, the `GenerateParamCopies` function in `pkg/stacking/prolog.go` was using the **abstract** stack slot offset (from Linear IR) directly without translating it to the **concrete** FP-relative offset.

### The Bug
In `func_2`, parameter `p_4` (in X1) was spilled to `stack(0)`. Without translation:
- FP is set to `SP + 96`
- `stack(0)` emits as `[FP + 0]` = `[SP + 96]`
- But `[SP + 96]` is exactly where the saved frame pointer is stored!
- Writing the parameter clobbered the saved FP
- On function return, the epilogue restored a garbage FP, leading to crash

### The Fix
Modified `GenerateParamCopies` in `pkg/stacking/prolog.go` to accept a `SlotTranslator` parameter and translate stack slot offsets using `TranslateSlotOffset()`.

After fix:
- `stack(0)` (abstract) → `stack(-96)` (concrete, below callee-saved registers)

## Files Changed
- `pkg/stacking/prolog.go` - Added `slotTrans` parameter to `GenerateParamCopies`
- `pkg/stacking/transform.go` - Updated call site to pass slot translator
- `pkg/stacking/paramcopy_test.go` - Updated tests with slot translator

## Verification
- GCC: exit code 61
- Ralph-cc (before fix): SIGSEGV (signal 11)
- Ralph-cc (after fix): exit code 61 ✓
- Regression tests: 19/19 passed ✓
- Unit tests: All passed ✓
