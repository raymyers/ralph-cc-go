[x] Add compcert submodule and get it to build https://github.com/AbsInt/CompCert
[x] Understand the order and meaning of the compcert phases / IRs, summarize in docs/PHASES.md
[x] Initialize a go with bin `ralph-cc`, cobra CLI, Makefile
[x] Implement placeholders (warn and exit) for debug flags: -dparse -dc -dasm -dclight -dcminor -drtl -dltl -dmach

# Parsing

[x] Study the Menhir grammar and determine the best plan for an equivelant parser in the Go CLI. You might choose a parsing lib, or recursive descent. Write your plan in docs/PARSING.md
[x] Study the plan in docs/PARSING.md, chose a tiny subset of C to try parsing, starting with tests driven by a `testdata/parse.yaml` input output, if approach needed to change update docs/PARSING.md.
[x] Make task bullets in plan/01-cli-ralph/PLAN_PARSING.md to carry out the plan in docs/PARSING.md, wiring to cli's -dparse, driven by the yaml tests, to ultimately reach equivelence on all supported syntax (-dparse matches).
[x] Get plan/01-cli-ralph/PLAN_PARSING.md to 25% tasks done
[x] Get plan/01-cli-ralph/PLAN_PARSING.md to 50% tasks done
[x] Get plan/01-cli-ralph/PLAN_PARSING.md to 75% tasks done
[x] Get plan/01-cli-ralph/PLAN_PARSING.md to 100% tasks done
[x] Ensure to cli's -dparse is wired to save that parsed AST in the same format as compcert saves. Create `testdata/example-c/all.c` to have a single exercise of all syntax.
[x] HEY! determine why this isn't dumping the parsed data `bin/ralph-cc testdata/example-c/all.c -dparse`
[x] Manually spot check our parser cli againse ccert (using container-use) and review tests for any gaps including checking for parser commit diffs that don't add test cases (adding task bullets to plan/01-cli-ralph/PLAN_TEST.md if needed).
[x] Execute plan/01-cli-ralph/PLAN_TEST.md, especially ensuring low duplication in test code and data is parameterized and yaml driven.
[x] Based on docs/PHASES.md, create a `plan/01-cli-ralph/PLAN_PHASE_*.MD` for each phase with an implementation plan, noting prereqs. Format as milestone sections with task bullets. Break it down for high assurance of success and solid data-driven testing. Ensure the key files from Compcert are called out to study (logic and AST structure...)

# Compiler Frontend Phases

[x] Implement the phase plan in `plan/01-cli-ralph/PLAN_PHASE_CLIGHT.md`, go incrementally (and and run tests as you go). Update phase plan marking your progress and notes if you get stuck. Bail if stuck, mark this complete if you finish.
[x] .gitignore add debug phase output suffixes, just as `*.parsed.c` is. See docs/PHASES.md, dumping section for list
[x] Implement the phase plan in `plan/01-cli-ralph/PLAN_PHASE_CSHARPMINOR.md`, go incrementally (and and run tests as you go). Update phase plan marking your progress and notes if you get stuck. Bail if stuck, mark this complete if you finish.
[x] Evaluate the cli codebase in light of having multiple phases now, and that we will have several more. Make disciplined refactors (like Fowler, Feathers, Bache) to improve the organization if needed. (Extracted Clight generation from main.go into pkg/clightgen, mirroring pkg/cshmgen pattern. main.go reduced from 670 to 320 lines.)  
[x] Implement the phase plan in `plan/01-cli-ralph/PLAN_PHASE_CMINOR.md`, go incrementally (and run tests as you go). Update phase plan marking your progress and notes if you get stuck. Bail if stuck, mark this complete if you finish. (Complete: All 6 milestones done. CLI integration with -dcminor flag, printer.go, unit tests. Remaining YAML parameterized tests are optional verification.)
[x] Implement the phase plan in `plan/01-cli-ralph/PLAN_PHASE_CMINORSEL.md`, go incrementally (and run tests as you go). Update phase plan marking your progress and notes if you get stuck. Bail if stuck, mark this complete if you finish. (Complete: All 7 milestones done - AST, Ops, Addressing, Operator Selection, Expression Selection, Statement Selection, CLI/Testing. pkg/selection provides full Cminor→CminorSel transformation with ARM64 addressing modes and combined operations.)
[x] Study `docs/PHASES.md` and consider that the front-end should now be done. Review code and try it out. If you discover issues, schedule them in `plan/01-cli-ralph/PLAN_FRONTEND_ISSUES.md`. (Complete: Found critical bug - SimplLocals.AnalyzeStmt doesn't handle *cabs.Block, causing address-taken vars to be incorrectly promoted to temps, panicking on &x expressions.)
[x] Address `plan/01-cli-ralph/PLAN_FRONTEND_ISSUES.md` if any. (Fixed: SimplLocals AnalyzeStmt now handles *cabs.Block pointer type - added case to match FunDef.Body type. All 3 issues resolved by this fix.)
[x] Run Lint and test coverage from makefile (add `make coverage` if needed), address issues. Keep test duplication low. (Added `make coverage` target, 69.1% overall coverage, go vet passes.)

# Compiler Backend Phases

[x] Implement the phase plan in `plan/01-cli-ralph/PLAN_PHASE_RTL.md`, go incrementally (add and run tests as you go). Update phase plan marking your progress and notes if you get stuck. Bail if stuck, mark this complete if you finish. (Complete: All 7 milestones done. RTL AST, CFG construction, register allocation, instruction generation, expression translation, statement translation, CLI with -drtl flag and printer. Full CminorSel→RTL transformation pipeline.)
[x] Implement the phase plan in `plan/01-cli-ralph/PLAN_PHASE_LTL.md`, go incrementally (add and run tests as you go). Update phase plan marking your progress and notes if you get stuck. Bail if stuck, mark this complete if you finish. (Complete: All 7 milestones done. LTL AST with ARM64 registers, liveness analysis, interference graph, IRC register allocator with coalescing, ARM64 calling conventions, RTL→LTL transformation, CLI with -dltl flag and printer.)
[x] Implement the phase plan in `plan/01-cli-ralph/PLAN_PHASE_LINEAR.md`, go incrementally (add and run tests as you go). Update phase plan marking your progress and notes if you get stuck. Bail if stuck, mark this complete if you finish. (Complete: All 6 milestones done. Linear AST with labels/branches, CFG linearization with fall-through optimization, branch tunneling, label cleanup, stack slot analysis, and printer for debugging. This is an internal phase without CLI flag.)
[x] Add a short LICENSE file indicating that this is derived from aspects of CompCert which is only licensed for non-commercial / research use and this code should be considered the same way until the legal status is established otherwise.
[x] Implement the phase plan in `plan/01-cli-ralph/PLAN_PHASE_MACH.md`, incrementally (and run tests as you go). Update phase plan marking your progress and notes if you get stuck. Bail if stuck, mark this complete if you finish. (Complete: All 7 milestones done. pkg/stacking implements Linear→Mach transformation with frame layout computation, slot translation, callee-save handling, prologue/epilogue generation. CLI with -dmach flag, printer, and comprehensive unit tests.)
[x] Implement the phase plan in `plan/01-cli-ralph/PLAN_PHASE_ASM.md`, incrementally (add and run tests as you go). Update phase plan marking your progress and notes if you get stuck. Bail if stuck, mark this complete if you finish. (Complete: Milestones 1-7 done. pkg/asm provides ARM64 AST, pkg/asmgen provides Mach→ASM transformation. CLI with -dasm flag outputs .s files. Basic end-to-end working for simple functions.)
[x] In testdata folder create yaml for input and output from end-to-end C to ARM64 ASM. Start with a hello world program in C, wire new go tests to use the yaml cases. (Complete: Created testdata/e2e_asm.yaml with 11 test cases covering basic programs, arithmetic, bitwise ops, branches, and shifts. Added TestE2EAsmYAML test function in integration_test.go that loads yaml test cases and verifies expected assembly output patterns.)

# Up and running

[x] Figure out how we can run this AMD64 ASM on this Apple Silicon, Docker can be used or not but either way we have to have a single script to go from c file to running program. If possible use this to run a hello world. Whether or not success, record status in `docs/RUNNING.md` (Complete: Created scripts/run.sh for C→ARM64→executable pipeline on macOS Apple Silicon. Programs assemble, link, and run natively. Documented code generation bugs preventing correct execution in docs/RUNNING.md.)
[x] Get automated tests around "Known Issues" at the end of `docs/RUNNING.md`. Pass them. (Complete: Added 3 test cases in e2e_asm.yaml for known issues. Fixed unreachable code by removing dead blocks in linearize.go. Fixed prologue/epilogue to use proper stp/ldp with pre/post-index addressing in asmgen. Issue #3 was a testing artifact, not a real bug. Programs now compile and run correctly.)
[x] The include directive is not yet supported, we expect to be able use that, such as including stdio. Figure out how, potentially following compcerts example. Keep notes in docs/INCLUDE.md. Make it work. (Complete: Added preprocessing via external C preprocessor (cc -E). Added -I flag for include paths. Created pkg/preproc package. Documented in docs/INCLUDE.md. Note: System headers like stdio.h may contain compiler-specific extensions not yet supported by the parser.)
[x] Create `plan/01-cli-ralph/PLAN_PREPROCESSOR.md` with milestone sections with task bullets in order to implement a standalone preprocessor, not calling out the the system cc. Includes and macros must be supported, well-tested. Should search the system header directories for to get things like stdio.h, use externs. No need to link, we'll use system ld to run. (Complete: 11 milestones covering pp-lexer, include resolution, directive parsing, macro storage/expansion, conditional compilation, include processing, output generation, driver, CLI integration, and system header compatibility.)
[ ] Incrementally implement `plan/01-cli-ralph/PLAN_PREPROCESSOR.md`, updating that file marking your progress and leave notes if you get stuck. Bail if stuck, mark this complete if you finish.
